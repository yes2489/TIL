# MSA 기반 매장 키오스크 시스템

## 📌 프로젝트 개요

**프로젝트 명:** KeyWe   
**목적:** 혼자 주문이 어려운 **시니어**들을 위해 **측근(자녀 등)** 이 원격으로 키오스크 주문을 대신 처리할 수 있는 서비스를 제공합니다.  

### 🎯 **문제 해결**
- 시니어들의 **디지털 소외 문제**를 해소하기 위해 **측근이 손쉽게 도움을 줄 수 있는 계정 구조**를 설계했습니다.
- 한 명의 보호자가 **여러 시니어를 효율적으로 관리**할 수 있도록 다중 프로필 시스템을 구현했습니다.
- **안전한 인증 체계**를 통해 시니어의 개인정보를 보호하면서도 원활한 원격 지원이 가능하도록 했습니다.

## 💻 프로젝트 소개
- **진행 기간**: 2025.01.13 ~ 2025.02.21
- **팀 구성**: 백엔드 3명, 프론트엔드 3명
- **담당 역할**: MSA 전환 과정에서의 백엔드 개발
  - 도메인별 데이터베이스 설계 및 구현
  - 사용자 관리 서비스 개발
  - 매장/메뉴 관리 서비스 개발
  - 공통 이미지 처리 모듈 개발 및 서비스 연동

## 💡 주요 담당 업무 및 설계 전략

### 1. MSA 기반 데이터베이스 설계

**도전 과제**
- 도메인별 독립적인 데이터베이스 구조 설계 필요
- 서비스 간 데이터 정합성과 독립성 확보
- 확장 가능한 스키마 설계 필요

**구현 내용**
1. **데이터베이스 분리 설계**
   - Database per Service 패턴 적용
   - 도메인별 독립 데이터베이스 구조 설계
   - 서비스별 최적화된 스키마 구현

2. **하이브리드 정규화 전략**
   - 사용자-프로필, 메뉴-카테고리 정보의 기본 정규화 유지
   - 필요한 경우 제한적 데이터 중복 허용
   - 성능과 데이터 일관성의 균형점 도출

### 2. 사용자 관리 서비스 개발

**설계 동기**
- 계층형 사용자-프로필 구조 필요
- 안전한 인증 및 권한 관리 체계 필요
- 다양한 프로필 타입 지원 필요

**구현 내용**
1. **다중 프로필 관리**
   - 단일 계정 하의 다중 프로필 지원
   - 부모/자녀 프로필 타입별 차별화된 기능 구현
   - 프로필별 독립적 권한 관리 체계

2. **다단계 인증 시스템**
   - Redis 기반 SMS 인증 구현
   - JWT 기반 토큰 인증 시스템
   - 프로필 타입별 차별화된 인증 프로세스

### 3. 매장/메뉴 관리 서비스 개발

**설계 동기**
- 복잡한 메뉴-옵션 구조의 체계적 관리 필요
- 효율적인 메뉴 데이터 접근 방식 필요
- 확장 가능한 옵션 관리 시스템 필요

**구현 내용**
1. **계층형 메뉴 구조**
   - 카테고리-메뉴-옵션의 체계적 구조화
   - 필수/선택 옵션 타입 구분
   - 옵션 그룹화를 통한 연관 옵션 관리

2. **데이터 접근 계층**
   - MyBatis 기반 동적 쿼리 구현
   - 트랜잭션 격리 수준 관리
   - 이미지 데이터 분리를 통한 처리

### 4. 공통 이미지 처리 모듈 개발

**설계 동기**
- 서비스 간 이미지 처리 로직 표준화 필요
- 확장 가능한 이미지 처리 시스템 구축
- 안전한 이미지 업로드/조회 체계 필요

**구현 내용**
1. **독립 모듈 설계**
   - 서비스 독립적인 이미지 처리 모듈 구현
   - REST API 기반 표준 인터페이스 제공
   - 다양한 이미지 처리 기능 모듈화

2. **타입 기반 처리 시스템**
   - 메뉴/프로필 이미지별 독립적 처리
   - Base64 인코딩 기반 이미지 전송
   - 공통 인터페이스 기반 확장 가능 구조

3. **보안 및 검증**
   - 파일 형식 및 크기 검증
   - 사용자 권한 기반 접근 제어
   - 트랜잭션 기반 안전한 처리

## 🛠 사용 기술
- **Backend**: Java, Spring Boot
- **Database**: MySQL, Redis
- **ORM**: MyBatis
- **Authentication**: JWT, SMS
- **Tools & Collaboration**: Git, Jira

## 🔍 핵심 기술 경험
1. **MSA 기반 데이터 설계**
   - Database per Service 패턴 구현
   - 하이브리드 정규화 전략 수립
   - 도메인별 독립 데이터베이스 설계

2. **데이터 접근 및 보안**
   - MyBatis 정적 쿼리 기반 데이터 접근 구현
   - Redis 기반 캐시 시스템 구축
   - 정적 쿼리를 통한 SQL Injection 방지

3. **확장성 및 성능 최적화**
   - 대용량 처리를 위한 ID 전략 수립
   - 이미지 데이터 분리를 통한 성능 최적화
   - 도메인별 독립적 스케일링 구조 설계

## ✏️ 프로젝트를 통해 배운 점
1. **MSA 환경에서의 서비스 설계**
   - 도메인 주도 설계를 통한 서비스 분리
   - 독립적인 데이터베이스 설계 경험
   - 서비스 간 인터페이스 설계 방법론 습득

2. **효율적인 모듈 설계**
   - 재사용 가능한 컴포넌트 설계 방법
   - 확장 가능한 인터페이스 설계
   - 서비스 간 결합도 최소화 전략

3. **팀 협업의 중요성**
   - 팀원 간 효과적인 기술 논의와 피드백
   - 모듈 분리 과정에서의 협업 경험
